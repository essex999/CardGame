(()=>{"use strict";var t=[{color:"hearts",rank:"A",img:"./static/туз черви.svg"},{color:"hearts",rank:"K",img:"./static/король черви.svg"},{color:"hearts",rank:"Q",img:"./static/дама черви.svg"},{color:"hearts",rank:"J",img:"./static/валет черви.svg"},{color:"hearts",rank:"10",img:"./static/10 черви.svg"},{color:"hearts",rank:"9",img:"./static/9 черви.svg"},{color:"hearts",rank:"8",img:"./static/8 черви.svg"},{color:"hearts",rank:"7",img:"./static/7 черви.svg"},{color:"hearts",rank:"6",img:"./static/6 черви.svg"},{color:"spades",rank:"A",img:"./static/туз крести.svg"},{color:"spades",rank:"K",img:"./static/король крести.svg"},{color:"spades",rank:"Q",img:"./static/дама крести.svg"},{color:"spades",rank:"J",img:"./static/валет крести.svg"},{color:"spades",rank:"10",img:"./static/10 крести.svg"},{color:"spades",rank:"9",img:"./static/9 крести.svg"},{color:"spades",rank:"8",img:"./static/8 крести.svg"},{color:"spades",rank:"7",img:"./static/7 крести.svg"},{color:"spades",rank:"6",img:"./static/6 крести.svg"},{color:"clubs",rank:"A",img:"./static/туз пики.svg"},{color:"clubs",rank:"K",img:"./static/король пики.svg"},{color:"clubs",rank:"Q",img:"./static/дама пики.svg"},{color:"clubs",rank:"J",img:"./static/валет пики.svg"},{color:"clubs",rank:"10",img:"./static/10 пики.svg"},{color:"clubs",rank:"9",img:"./static/9 пики.svg"},{color:"clubs",rank:"8",img:"./static/8 пики.svg"},{color:"clubs",rank:"7",img:"./static/7 пики.svg"},{color:"clubs",rank:"6",img:"./static/6 пики.svg"},{color:"diamonds",rank:"A",img:"./static/туз бубны.svg"},{color:"diamonds",rank:"K",img:"./static/король бубны.svg"},{color:"diamonds",rank:"Q",img:"./static/дама бубны.svg"},{color:"diamonds",rank:"J",img:"./static/валет бубны.svg"},{color:"diamonds",rank:"10",img:"./static/10 бубны.svg"},{color:"diamonds",rank:"9",img:"./static/9 бубны.svg"},{color:"diamonds",rank:"8",img:"./static/8 бубны.svg"},{color:"diamonds",rank:"7",img:"./static/7 бубны.svg"},{color:"diamonds",rank:"6",img:"./static/6 бубны.svg"}],e=[],n=0,c=0,a=0,o=!0,s=0,r="",l="",i=0,u=function(){function u(t){this.container=t,t.appendChild(m(this.gameLvlSelect()))}return u.prototype.gameLvlSelect=function(){var t=this;this.container.replaceChildren(),null==d||d.appendChild(m(this.gameStartTemplate())),r="",l="",s=0,c=0,n=0,a=0,o=!0,e=[],i=0;var u="",g=document.querySelectorAll(".section_selector");g.forEach((function(t){t.addEventListener("click",(function(){for(var e=0;e<g.length;e++){var n=g[e];n.classList.contains("selectorActiveBorder")&&n.classList.remove("selectorActiveBorder")}t.classList.add("selectorActiveBorder"),u=t.textContent}))}));var v=document.querySelector(".sectionButton");null==v||v.addEventListener("click",(function(e){switch(u){case"1":t.easyLvl();break;case"2":t.normalLvl();break;case"3":t.hardLvl()}}))},u.prototype.easyLvl=function(){var r=this;this.container.replaceChildren(),a=5,null==d||d.appendChild(m(this.gameTableTemplate()));var l=document.querySelector(".game_table");t.sort((function(){return Math.random()-.5}));for(var u=0;u<3;u++)e.push(t[u]),e.push(t[u]);e.sort((function(){return Math.random()-.5}));for(var g=0;g<e.length;g++){var v=document.createElement("img");v.src="./static/рубашка.svg",v.classList.add("card"),null==l||l.appendChild(v),v.style.height="100px"}var p=document.querySelectorAll(".card"),f="null",h="null";p.forEach((function(t,n){t.setAttribute("src",e[n].img);var c=setTimeout((function(){p.forEach((function(t){t.setAttribute("src","./static/рубашка.svg"),r.gameTimer()}))}),5e3),a=document.querySelector(".game_topContent-button");null==a||a.addEventListener("click",(function(t){r.gameLvlSelect(),clearTimeout(c)}))})),p.forEach((function(t,r){return t.addEventListener("click",(function(){!0!==o||t.classList.contains("identical")||(t.setAttribute("src",e[r].img),t.setAttribute("src",e[r].img),"null"===f?f=r:r!=f&&(h=r,o=!1),"null"!==f&&"null"!==h&&f!==h&&(p[f].src===p[h].src?(p[f].classList.add("identical"),p[h].classList.add("identical"),f="null",h="null",o=!0):p[f].src!==p[h].src&&setTimeout((function(){p[f].src="./static/рубашка.svg",p[h].src="./static/рубашка.svg",f="null",h="null",o=!0,s++,a--,document.querySelector(".attemptsCount").textContent=a,5===s&&(i=1,c=0,n=1,o=!1)}),500)),Array.from(p).every((function(t){return t.className.includes("identical")}))&&(i=1,c=1,o=!1))}))}))},u.prototype.normalLvl=function(){var r=this;this.container.replaceChildren(),a=10,null==d||d.appendChild(m(this.gameTableTemplate()));var l=document.querySelector(".game_table");t.sort((function(){return Math.random()-.5}));for(var u=0;u<6;u++)e.push(t[u]),e.push(t[u]);e.sort((function(){return Math.random()-.5}));for(var g=0;g<e.length;g++){var v=document.createElement("img");v.src="./static/рубашка.svg",v.classList.add("card"),null==l||l.appendChild(v),v.style.height="100px"}var p=document.querySelectorAll(".card"),f="null",h="null";p.forEach((function(t,n){t.setAttribute("src",e[n].img);var c=setTimeout((function(){p.forEach((function(t){t.setAttribute("src","./static/рубашка.svg"),r.gameTimer()}))}),5e3),a=document.querySelector(".game_topContent-button");null==a||a.addEventListener("click",(function(t){r.gameLvlSelect(),clearTimeout(c)}))})),p.forEach((function(t,r){return t.addEventListener("click",(function(){!0!==o||t.classList.contains("identical")||(t.setAttribute("src",e[r].img),t.setAttribute("src",e[r].img),"null"===f?f=r:r!=f&&(h=r,o=!1),"null"!==f&&"null"!==h&&f!==h&&(p[f].src===p[h].src?(p[f].classList.add("identical"),p[h].classList.add("identical"),f="null",h="null",o=!0):p[f].src!==p[h].src&&setTimeout((function(){p[f].src="./static/рубашка.svg",p[h].src="./static/рубашка.svg",f="null",h="null",o=!0,s++,a--,document.querySelector(".attemptsCount").textContent=a,10===s&&(i=1,c=0,n=1,o=!1)}),500)),Array.from(p).every((function(t){return t.className.includes("identical")}))&&(i=1,c=1,o=!1))}))}))},u.prototype.hardLvl=function(){var r=this;this.container.replaceChildren(),a=20,null==d||d.appendChild(m(this.gameTableTemplate()));var l=document.querySelector(".game_table");t.sort((function(){return Math.random()-.5}));for(var u=0;u<9;u++)e.push(t[u]),e.push(t[u]);e.sort((function(){return Math.random()-.5}));for(var g=0;g<e.length;g++){var v=document.createElement("img");v.src="./static/рубашка.svg",v.classList.add("card"),null==l||l.appendChild(v),v.style.height="100px"}var p=document.querySelectorAll(".card"),f="null",h="null";p.forEach((function(t,n){t.setAttribute("src",e[n].img);var c=setTimeout((function(){p.forEach((function(t){t.setAttribute("src","./static/рубашка.svg"),r.gameTimer()}))}),5e3),a=document.querySelector(".game_topContent-button");null==a||a.addEventListener("click",(function(t){r.gameLvlSelect(),clearTimeout(c)}))})),p.forEach((function(t,r){return t.addEventListener("click",(function(){!0!==o||t.classList.contains("identical")||(t.setAttribute("src",e[r].img),t.setAttribute("src",e[r].img),"null"===f?f=r:r!=f&&(h=r,o=!1),"null"!==f&&"null"!==h&&f!==h&&(p[f].src===p[h].src?(p[f].classList.add("identical"),p[h].classList.add("identical"),f="null",h="null",o=!0):p[f].src!==p[h].src&&setTimeout((function(){p[f].src="./static/рубашка.svg",p[h].src="./static/рубашка.svg",f="null",h="null",o=!0,s++,a--,document.querySelector(".attemptsCount").textContent=a,20===s&&(i=1,c=0,n=1,o=!1)}),500)),Array.from(p).every((function(t){return t.className.includes("identical")}))&&(i=1,c=1,o=!1))}))}))},u.prototype.gameTableTemplate=function(){return{tag:"game",cls:"game",content:[{tag:"div",cls:"game_topContent",content:[{tag:"div",cls:"game_topContent-timer",content:[{tag:"div",cls:"minutes",content:"00"},{tag:"p",cls:"dots",content:":"},{tag:"div",cls:"seconds",content:"00"}]},{tag:"div",cls:"game_topContent-timer",content:[{tag:"p",cls:"attemptsText",content:"Осталось попыток:"},{tag:"p",cls:"attemptsCount",content:a}]},{tag:"button",cls:"game_topContent-button",content:"Начать заново"}]},{tag:"div",cls:"game_table"}]}},u.prototype.gameStartTemplate=function(){return{tag:"div",class:"game",content:[{tag:"div",cls:"section",content:[{tag:"div",cls:"section_content",content:[{tag:"p",cls:"section-title",content:"Выбери  сложность"},{tag:"div",cls:"section_selectors",content:[{tag:"div",cls:["section_selector","firstSelector"],content:"1"},{tag:"div",cls:["section_selector","secondSelector"],content:"2"},{tag:"div",cls:["section_selector","thirdSelector"],content:"3"}]},{tag:"button",cls:"sectionButton",content:"Старт"}]}]}]}},u.prototype.modalWinTemplate=function(){return{tag:"div",cls:"modalWrapper",content:{tag:"div",cls:"modal",content:[{tag:"div",cls:"winModalContent",content:[{tag:"img",cls:"winImg",attrs:{src:"./static/celebration.svg",height:"96px"}},{tag:"p",cls:"modalText",content:"Вы выиграли!"},{tag:"p",cls:"secondModalText",content:"Затраченное время:"},{tag:"p",cls:"modalTimer",content:[l,{tag:"p",cls:"dots",content:":"},r]},{tag:"p",cls:"secondModalText",content:"Осталось попыток:"},{tag:"p",cls:"modalTimer",content:a},{tag:"button",cls:"modal-button",content:"Играть снова"}]}]}}},u.prototype.modalLoooseTempalte=function(){return{tag:"div",cls:"modalWrapper",content:{tag:"div",cls:"modal",content:[{tag:"div",cls:"winModalContent",content:[{tag:"img",cls:"winImg",attrs:{src:"./static/dead.svg",height:"96px"}},{tag:"p",cls:"modalText",content:"Вы проиграли!"},{tag:"p",cls:"secondModalText",content:"Затраченное время:"},{tag:"p",cls:"modalTimer",content:[l,{tag:"p",cls:"dots",content:":"},r]},{tag:"p",cls:"secondModalText",content:"Осталось попыток:"},{tag:"p",cls:"modalTimer",content:a},{tag:"button",cls:"modal-button",content:"Играть снова"}]}]}}},u.prototype.gameTimer=function(){var t=this,e=document.querySelector(".minutes"),a=document.querySelector(".seconds"),o=0,s=setInterval((function(){if(1===i){for(s=clearInterval(s);1===c;){null==d||d.appendChild(m(t.modalWinTemplate())),null==(g=document.querySelector(".modal-button"))||g.addEventListener("click",(function(e){t.gameLvlSelect()})),c++;break}for(;1===n;){var g;null==d||d.appendChild(m(t.modalLoooseTempalte())),null==(g=document.querySelector(".modal-button"))||g.addEventListener("click",(function(e){t.gameLvlSelect()})),n++;break}}else r=null==a?void 0:a.textContent,l=null==e?void 0:e.textContent,++o,a.textContent=u(o%60),e.textContent=u(parseInt(o/60))}),1e3);function u(t){var e=t+"";return e.length<2?"0"+e:e}},u}(),d=document.querySelector(".container");function m(t){if(null==t||!1===t)return document.createTextNode("");if("string"==typeof t||"number"==typeof t||!0===t)return document.createTextNode(t);if(Array.isArray(t)){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(m(t))})),e}var n=document.createElement(t.tag);return t.cls&&[].concat(t.cls).forEach((function(t){n.classList.add(t)})),t.attrs&&Object.keys(t.attrs).forEach((function(e){n.setAttribute(e,t.attrs[e])})),n.appendChild(m(t.content)),n}new u(d)})();